<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>js 1.6</title>

    <style>
    </style>

</head>

<body>
<script src="http://static02.fn-mart.com/js/lib/jquery/1.11.1/jquery-1.11.1.min.js"></script>
    <script>
    var obj = {

        init: function() {

            this.funcForeach();

        },


        funcForeach: function() {

            //第1个是遍历的数组内容；第2个是对应的数组索引，第3个是数组本身。
            [5, 6, 7, 8].forEach(function(value, index, array) {

                // console.log(value, index, array);

            });

            //111
            [8,2,3,4].forEach(function(value,index,array){

                 console.log(value, index, array);

                 console.log(this.a);  //1

            },{a:1});

            var database = {
              users: ["张含韵", "江一燕", "李小璐"],
              sendEmail: function (user) {
                if (this.isValidUser(user)) {
                  console.log("你好，" + user);
                } else {
                  console.log("抱歉，"+ user +"，你不是本家人");
                }
              },
              isValidUser: function (user) {
                return /^张/.test(user);
              }
            };

            // 给每个人法邮件
            database.users.forEach(  // database.users中人遍历
              database.sendEmail,    // 发送邮件
              database               // 使用database代替上面标红的this
            );


            var array = [1, 2, 3];

            delete array[1]; // 移除 2

            console.log(array); // "1,,3"

            console.log(array.length); // but the length is still 3

            // array.forEach(alert); // 弹出的仅仅是1和3


            //对比jQuery中的$.each方法：
            $.each([5,6,7,8], function(index, value, array) {
                // ...
                // console.log(value, index, array);
            });

        }

    };

    window.onload = function() {

        obj.init();

    };
    </script>
</body>

</html>
